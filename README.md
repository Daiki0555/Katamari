# **塊魂**
![alt text](portfolio/title.png)
<br>

# **目次**
- [**塊魂**](#塊魂)
- [**目次**](#目次)
- [**自己紹介**](#自己紹介)
- [**ゲーム概要**](#ゲーム概要)
- [**操作方法**](#操作方法)
- [**制作理由**](#制作理由)
- [**ゲームのこだわり**](#ゲームのこだわり)
  - [**1.タイトル画面**](#1タイトル画面)
- [**ゲーム関係の技術紹介**](#ゲーム関係の技術紹介)
  - [**1.巻き込み処理**](#1巻き込み処理)
    - [**作成動機**](#作成動機)
    - [**実装方法**](#実装方法)
    - [**a.オブジェクトと塊のワールド行列を求めて、塊のワールド行列の逆行列を求める。**](#aオブジェクトと塊のワールド行列を求めて塊のワールド行列の逆行列を求める)
    - [**b.塊を基準としたオブジェクトのローカル座標を求める**](#b塊を基準としたオブジェクトのローカル座標を求める)
    - [**c.最終的なオブジェクトのワールド行列を求める**](#c最終的なオブジェクトのワールド行列を求める)
    - [**まとめ**](#まとめ)
  - [**2.オブジェトデータの管理とオブジェクトの生成**](#2オブジェトデータの管理とオブジェクトの生成)
    - [**作成動機**](#作成動機-1)
    - [**実装方法**](#実装方法-1)
    - [**a.エクセルの作成**](#aエクセルの作成)
    - [**b.レベルデータの作成**](#bレベルデータの作成)
    - [**c.モデルの検索**](#cモデルの検索)
    - [**d.モデルの移動**](#dモデルの移動)
    - [**まとめ**](#まとめ-1)
  - [**3.インスタンシング描画**](#3インスタンシング描画)
  - [**4.ビューポートの作成**](#4ビューポートの作成)
  - [**5.輪郭線の描画**](#5輪郭線の描画)
  - [**6.トゥーンシェーダー**](#6トゥーンシェーダー)
- [**グラフィック関係**](#グラフィック関係)
- [**まとめ**](#まとめ-2)
- [**参考資料**](#参考資料)



# **自己紹介**
**所属：河原電子ビジネス専門学校ゲームクリエイター科**
<br>

**名前：伊藤　大起**
<br>

**趣味：読書、料理**
<br>

# **ゲーム概要**
**1.制作期間**
<br>
&emsp;**2023年～**
<br>

**2.制作人数**
<br>
&emsp;**1人**
<br>

**3.ジャンル**
<br>
&emsp;**アクション**
<br>

**4.プレイ人数**
<br>
&emsp;**1人**
<br>

**5.対応ハード**
<cr>
&emsp;**windows11**
<br>

**6.制作環境**
<br>
&emsp;**a.エンジン**
<br>
&emsp;&emsp;**学校内製エンジン(DX12)**
<br>

&emsp;**b.使用ツール**
<br>
&emsp;&emsp;**Visual Studio 2022**
<br>
&emsp;&emsp;**Visual Studio Code**
<br>
&emsp;&emsp;**3ds Max 2023**
<br>
&emsp;&emsp;**Adobe Photoshop 2022**
<br>
&emsp;&emsp;**Excel**
<br>
&emsp;&emsp;**RenderDoc**
<br>
&emsp;&emsp;**fork**
<br>
&emsp;&emsp;**Github**
<br>
&emsp;&emsp;**Notion**
<br>

&emsp;**c.使用言語**
<br>
&emsp;&emsp;**C++**
<br>
&emsp;&emsp;**HLSL**
<br>

# **操作方法**
![alt text](portfolio/setu.png)
<br>

# **制作理由**
&emsp;**自分がこのゲームを作ろうと思ったのがきっかけとして、今まで自分がプレイしてきたゲームは敵を武器を使って倒すというゲームが多く、物を巻き込み塊を大きくしていくという、独自の世界観にひかれていきました。**
<br>

&emsp;**最初のうちは巻き込まないものがあり、それにはじき返されたり、追いかけまわされるなど最初のうちは爽快感はありませんでしたが、物を巻き込み塊が大きくなり今まで追いかけられていた物を巻き込めるようになると、敵を武器を使って倒した時のような爽快感があり、その爽快感が後半は何度も押し寄せるので自分はこのゲームにとても関心を持ちました。**
<br>

&emsp;**ゲーム制作の勉強をしていく内にこのゲームは様々な技術をしようしていることを知り、このゲームを再現することで、今まで挑戦してこなかった技術に触れあうことが可能なので、自身のスキルアップにつながると思いこのゲームを製作しようと思いました。**
<br>

# **ゲームのこだわり**

## **1.タイトル画面**

# **ゲーム関係の技術紹介**

## **1.巻き込み処理**
![alt text](portfolio/makikomi-1.gif)
### **作成動機**
&emsp;
### **実装方法**
**巻き込まれた後の動きを求めるには塊を基準としたオブジェトのローカル行列を求める。そして、塊のワールド行列を乗算することでオブジェクトの最終最終的なワールド行列を求めることが出来る。**
<br>

### **a.オブジェクトと塊のワールド行列を求めて、塊のワールド行列の逆行列を求める。**
![alt text](portfolio/makikomi.png)
**ワールド行列を求める方法**
![alt text](portfolio/world.png)
### **b.塊を基準としたオブジェクトのローカル座標を求める**
**逆行列を乗算することでワールド行列からローカル行列への変換を行える。**
![alt text](makikomi2.png)
### **c.最終的なオブジェクトのワールド行列を求める**
![alt text](makikomi3-1.png)
### **まとめ**
&emsp;**塊魂を再現するうえで最も大事なプログラムということもあり、行列についての勉強を振替ながら実装をしていきました。**
<br>
&emsp;**今まで行列の知識については授業の中で身についていると思っていましたが、今回の巻き込み処理を実装する際に逆行列についてやローカル行列求め方などまだまだ行列について知らないことが多いと実感しました。ですが、今回の処理の実装による経験を忘れないようにし、今後新たにゲームを制作する際に行列を使用した難しい処理に挑戦していきたいと思いました。**
<br>

## **2.オブジェトデータの管理とオブジェクトの生成**
![alt text](portfolio/leveltitle.png)
### **作成動機**
&emsp;**作成理由としては、前までのゲームではオブジェクトの数が少なかったり、敵の数が少なかったりしたので、作成をする必要をあまり感じませんでした。**
<br>
&emsp;**しかし、今回オブジェクトの数がオブジェクトデータを作らないと管理しきれなかったので、スキルアップもかねて、エクセルでのデータ管理に挑戦しました。**

### **実装方法**
### **a.エクセルの作成**
![alt text](portfolio/excel.png)
**保存形式を気を付ける必要がある。**
![alt text](portfolio/excel2.png)
**モデルデータの構造体に渡す。**
![alt text](portfolio/excel3-1.png)
### **b.レベルデータの作成**
![alt text](portfolio/level.png)
**レベルデータの名前で移動速度と移動方法を決めている。**
**これにより細かい数値を決めやすくなる。**
### **c.モデルの検索**
![alt text](portfolio/level2.png)
### **d.モデルの移動**
**モデルの移動はレベルデータを元に生成する。**
![alt text](portfolio/level3.png)
**モデルの生成はインスタンシング描画にも関係している。**
### **まとめ**
&emsp;**最初はエクセルデータを保存した時に日本語が文字化けするなど問題が発生していました。それの解決策として調べていく内に文字コードについての勉強にもなりました。今まで文字コードだったり変数を変換をすることが無かったので良い経験になったと思います。今後もエクセルを使用したデータ管理や文字列を利用したプログラムを作成し、スムーズに作業を行いたいと考えています。**
<br>

## **3.インスタンシング描画**

## **4.ビューポートの作成**

## **5.輪郭線の描画**

## **6.トゥーンシェーダー**

<br>

# **グラフィック関係**

<br>

# **まとめ**

<br>

# **参考資料**
